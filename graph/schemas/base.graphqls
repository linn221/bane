scalar MyTime
scalar VarString
scalar MyString
scalar KVString
scalar KVInt
scalar HttpSchema
scalar HttpMethod

type SearchResult {
    results: [String!]
    count: Int
}

type Tag {
    id: Int!
    alias: String! @goField(forceResolver: true)
    name: String!
    description: String
}

input NewTag {
    name: String!
    alias: String
    description: String
    priority: Int
}

input PatchInput {
    values: [KVString!]
    valuesInt: [KVInt!]
}


extend type Mutation {
    newTag(input: NewTag!): Tag!
    newAlias(refType: String!, refId: Int!, alias: String!): Boolean!
    renameAlias(old: String!, new: String!): Boolean!
    removeAlias(alias: String!): Boolean!
    patch(a: String!, patch: PatchInput!): Boolean!
    destroy(a: String!): Boolean!
}

extend type Query {
    tag(a: String!): Tag!
    tags(search: String): [Tag]
}